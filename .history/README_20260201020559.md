# Learning Management System (LMS)

A full-stack Learning Management System built with React, Express, and MongoDB.

## Features

- **User Management**: Role-based access control (Superadmin, Admin, Trainer, Learner)
- **Course Management**: Create courses with modules and lessons
- **Enrollment System**: Self-enrollment or admin-assigned
- **Progress Tracking**: Track lesson completion and overall progress
- **Quiz System**: Course quizzes with auto-evaluation
- **Dashboard**: Role-based statistics and insights
- **Reports**: Admin reports with CSV export

## Tech Stack

- **Frontend**: React 18, Vite, Tailwind CSS, React Router
- **Backend**: Express.js, MongoDB, Mongoose, JWT
- **Authentication**: JWT-based with role middleware

## Project Structure

```
Learning-Management-System/
├── client/                 # React + Vite frontend
│   ├── src/
│   │   ├── api/            # Axios instance + API calls
│   │   ├── components/     # Reusable UI components
│   │   ├── pages/          # Route-level components
│   │   ├── context/        # AuthContext
│   │   ├── App.jsx
│   │   └── main.jsx
│   └── package.json
├── server/
│   ├── models/             # Mongoose schemas
│   ├── routes/             # Express routers
│   ├── middleware/         # auth.js, roleCheck.js
│   ├── utils/              # generateToken.js, asyncHandler.js
│   ├── config/             # db.js
│   ├── server.js           # Entry point
│   ├── seed.js             # Seed data script
│   └── package.json
├── .env
└── README.md
```

## Prerequisites

- Node.js 18+
- MongoDB (local or Atlas)

## Setup

### 1. Environment Variables

The `.env` file is already created in the root:

```env
MONGO_URI=mongodb://localhost:27017/lms
JWT_SECRET=your-super-secret-key-change-in-production
PORT=5000
```

### 2. Install Dependencies

```bash
# Backend
cd server
npm install

# Frontend
cd ../client
npm install
```

### 3. Seed the Database

```bash
cd server
npm run seed
```

This creates the following demo accounts:
- `superadmin@lms.com` / `password123`
- `admin@lms.com` / `password123`
- `trainer@lms.com` / `password123`
- `learner@lms.com` / `password123`

### 4. Run the Application

```bash
# Terminal 1 - Backend
cd server
npm start

# Terminal 2 - Frontend
cd client
npm run dev
```

- Frontend: http://localhost:5173
- Backend: http://localhost:5000

## API Endpoints

| Method | Endpoint | Access | Purpose |
|--------|----------|--------|---------|
| POST | /api/auth/login | Public | Login |
| GET | /api/auth/me | Auth | Current user |
| GET | /api/users | Admin | List users |
| POST | /api/users | Admin | Create user |
| PUT | /api/users/:id | Admin | Update user |
| DELETE | /api/users/:id | Admin | Soft delete |
| GET | /api/courses | Auth | List courses |
| GET | /api/courses/:id | Auth | Course detail |
| POST | /api/courses | Trainer+ | Create course |
| PUT | /api/courses/:id | Owner/Admin | Update course |
| DELETE | /api/courses/:id | Owner/Admin | Delete course |
| GET | /api/enrollments | Auth | My enrollments |
| POST | /api/enrollments | Auth | Enroll |
| PUT | /api/enrollments/:id/progress | Auth | Mark complete |
| GET | /api/quizzes/courses/:courseId/quiz | Auth | Get quiz |
| POST | /api/quizzes/courses/:courseId/quiz | Trainer+ | Create quiz |
| POST | /api/quizzes/:id/attempt | Auth | Submit quiz |
| GET | /api/dashboard/stats | Auth | Role-based stats |

## Frontend Routes

| Route | Page | Access |
|-------|------|--------|
| /login | LoginPage | Public |
| /dashboard | DashboardPage | All Auth |
| /courses | CourseCatalogPage | All Auth |
| /courses/:id | CourseDetailPage | All Auth |
| /courses/:id/learn | LessonViewerPage | Enrolled |
| /courses/:id/quiz | QuizPage | Enrolled |
| /my-enrollments | MyEnrollmentsPage | Learner |
| /admin/users | AdminUsersPage | Admin+ |
| /admin/courses | AdminCoursesPage | Trainer+ |
| /admin/courses/:id/edit | CourseEditorPage | Trainer+ |
| /admin/reports | AdminReportsPage | Admin |

## User Roles

- **Superadmin**: Full system access
- **Admin**: User management, all courses access, reports
- **Trainer**: Create and manage own courses, create quizzes
- **Learner**: Browse courses, enroll, learn, take quizzes

## Testing Flows

1. **Authentication**: Login with demo credentials
2. **User Management**: Admin creates/manages users
3. **Course CRUD**: Trainer creates course with modules/lessons
4. **Enrollment**: Learner enrolls in published course
5. **Learning**: Complete lessons, track progress
6. **Quiz**: Take quiz after completing lessons
7. **Dashboard**: View role-specific statistics